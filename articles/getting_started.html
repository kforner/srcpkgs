<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="srcpkgs">
<title>Getting started • srcpkgs</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="srcpkgs">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">srcpkgs</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/demo.html">why would you need srcpkgs?</a>
    <a class="dropdown-item" href="../articles/getting_started.html">Getting started</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/kforner/srcpkgs/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/kforner/srcpkgs/blob/HEAD/vignettes/getting_started.Rmd" class="external-link"><code>vignettes/getting_started.Rmd</code></a></small>
      <div class="d-none name"><code>getting_started.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="use-the-lotr-dummy-collection-of-source-packages">use the LOTR dummy collection of source packages<a class="anchor" aria-label="anchor" href="#use-the-lotr-dummy-collection-of-source-packages"></a>
</h2>
<p>To illustrate the use of the <code>srcpkgs</code>, we need some
source packages. An easy way to experiment with <code>srcpkgs</code> is
with the <a href="https://github.com/kforner/srcpkgs_lotr_demo" class="external-link uri">https://github.com/kforner/srcpkgs_lotr_demo</a>
repository:</p>
<ul>
<li>install the <code>srcpkgs</code> package (cf <a href="https://kforner.github.io/srcpkgs/#installation" class="external-link uri">https://kforner.github.io/srcpkgs/#installation</a>)</li>
<li>check out the <a href="https://github.com/kforner/srcpkgs_lotr_demo" class="external-link uri">https://github.com/kforner/srcpkgs_lotr_demo</a>
repository:</li>
</ul>
<pre><code>git clone https://github.com/kforner/srcpkgs_lotr_demo.git
cd srcpkgs_lotr_demo</code></pre>
<p>then start a R session in that folder (type <code>R</code>):</p>
<pre><code># load srcpkgs
&gt;library(srcpkgs)</code></pre>
</div>
<div class="section level2">
<h2 id="get_srcpkgs">get_srcpkgs()<a class="anchor" aria-label="anchor" href="#get_srcpkgs"></a>
</h2>
<p>The <code><a href="../reference/get_srcpkgs.html">get_srcpkgs()</a></code> fetches the list of source packages
that are currently managed by <code>srcpkgs</code>. You should see all
packages from the <code>srcpkgs_lotr_demo</code> repository.</p>
<pre><code># let's see what source packages are discovered:
&gt; get_srcpkgs()
            package version                                                path                     imports depends suggests
aragorn     aragorn     0.1   /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/aragorn                                             
bilbo         bilbo     0.1     /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/bilbo                                             
elrond       elrond     0.1    /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/elrond                                             
elves         elves     0.1     /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/elves         galadriel,\nlegolas                 
frodo         frodo     0.1     /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/frodo                                             
galadriel galadriel     0.1 /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/galadriel                                             
gandalf     gandalf     0.1   /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/gandalf                                             
gimli         gimli     0.1     /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/gimli                                             
hobbits     hobbits     0.1   /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/hobbits                       frodo   bilbo         
legolas     legolas     0.1   /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/legolas                                             
lotr           lotr     0.1      /workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/lotr elves,gimli,aragorn,gandalf hobbits  </code></pre>
<p>This function returns a <code>srcpkgs</code> object, that is a named
list of <code>srcpkg</code> objects. You can <code>print</code> that
object, or transform it in a data frame using
<code><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame()</a></code>.</p>
<pre><code><span><span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_srcpkgs.html">get_srcpkgs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">pkgs</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">pkgs</span><span class="op">)</span></span></code></pre>
</div>
<div class="section level2">
<h2 id="loading-and-reloading-packages">loading and reloading packages<a class="anchor" aria-label="anchor" href="#loading-and-reloading-packages"></a>
</h2>
<div class="section level3">
<h3 id="hacked-r-loaders">hacked R loaders<a class="anchor" aria-label="anchor" href="#hacked-r-loaders"></a>
</h3>
<p>Since by default, the R loaders should be automatically
<em>hacked</em> by <code>srcpkgs</code> (cf
<code><a href="../reference/hack_r_loaders.html">hack_r_loaders()</a></code>), you may simply load and/or ttach these
packages using <code><a href="https://rdrr.io/r/base/library.html" class="external-link">library()</a></code>, <code><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">loadNamespace()</a></code>,
<code>getNamespace</code>, <code>::</code> and so on:</p>
<pre><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">elves</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">loadNamespace</a></span><span class="op">(</span><span class="st">'bilbo'</span><span class="op">)</span></span>
<span><span class="fu">frodo</span><span class="fu">::</span><span class="fu">frodo</span><span class="op">(</span><span class="op">)</span></span></code></pre>
<p>The rationale for hacking the R loaders is not just for convenience.
It’s also for writing R code that will still work once the source
packages are installed.</p>
</div>
<div class="section level3">
<h3 id="using-pkg_load">using pkg_load()<a class="anchor" aria-label="anchor" href="#using-pkg_load"></a>
</h3>
<p>The <code><a href="../reference/pkg_load.html">pkg_load()</a></code> is the workhorse function to load
packages. A major difference with <code><a href="https://devtools.r-lib.org/reference/load_all.html" class="external-link">devtools::load_all()</a></code>
defaults is that it does not source the <em>test helpers</em>, nor does
it export all objects (cf <code>export_all</code>). The rationale is to
stick as much as possible to the standard R loaders behaviour.</p>
<p>You may use a package name, path, package or <code>srcpkgs</code>
object to designate the package to load:</p>
<pre><code><span><span class="fu"><a href="../reference/pkg_load.html">pkg_load</a></span><span class="op">(</span><span class="st">'lotr'</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/pkg_load.html">pkg_load</a></span><span class="op">(</span><span class="st">'/workspaces/srcpkgs_pkg/srcpkgs_lotr_demo/lotr'</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/pkg_load.html">pkg_load</a></span><span class="op">(</span><span class="va">pkgs</span><span class="op">$</span><span class="va">lotr</span><span class="op">)</span></span></code></pre>
<div class="section level4">
<h4 id="updating">updating<a class="anchor" aria-label="anchor" href="#updating"></a>
</h4>
<p>When you execute <code><a href="../reference/pkg_load.html">pkg_load()</a></code> on a package already loaded,
it will check for changes not only in that package but also in all its
dependencies (among the source packages), and will do what’s needed to
roxygenize, unload, reload until your package is up-to-date inside your
R session.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="reset-and-settings">reset and settings<a class="anchor" aria-label="anchor" href="#reset-and-settings"></a>
</h2>
<p>At <code>srcpkgs</code> startup time, i.e. when the
<code><a href="https://github.com/kforner/srcpkgs" class="external-link">library(srcpkgs)</a></code> statement is executed, the R loaders are
automatically hacked (cf <code><a href="../reference/hack_r_loaders.html">hack_r_loaders()</a></code>) UNLESS the hack
is inhibited using the option
<code>srcpkgs.inhibit_r_loaders_hack</code> or the environment variable
<code>SRCPKGS.INHIBIT_R_LOADERS_HACK</code>.</p>
<p>Then the fist time <code><a href="../reference/get_srcpkgs.html">get_srcpkgs()</a></code> will be executed (for
example indirectly by calling <code><a href="../reference/pkg_load.html">pkg_load()</a></code>),
<code>srcpkgs</code> will figure out the <strong>project root</strong>,
and from this root will search for source packages, using a heuristic.
Since that can take a bit of I/O time, the project root and the paths of
found source packages are cached.</p>
<p>You may check those using the <code><a href="../reference/settings.html">settings()</a></code> function, and
can change them using the <code><a href="../reference/reset.html">reset()</a></code> function.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Karl Forner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
